<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
  <h1>ðŸ“š Products</h1>
  <%= link_to "âž• Add New Product", new_admin_product_path, style: "background: #5b7c99; color: white; padding: 0.75rem 1.5rem; border-radius: 4px; text-decoration: none;" %>
</div>

<div style="background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
  <table style="width: 100%; border-collapse: collapse;">
    <thead>
      <tr style="border-bottom: 2px solid #ddd;">
        <th style="padding: 1rem; text-align: left;">Product</th>
        <th style="padding: 1rem; text-align: left;">Category</th>
        <th style="padding: 1rem; text-align: left;">Price</th>
        <th style="padding: 1rem; text-align: left;">Stock</th>
        <th style="padding: 1rem; text-align: left;">Authors</th>
        <th style="padding: 1rem; text-align: center;">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @products.each do |product| %>
        <tr style="border-bottom: 1px solid #eee;">
          <td style="padding: 1rem;">
            <div style="display: flex; align-items: center; gap: 1rem;">
              <% if product.cover_image.attached? %>
                <%= image_tag product.cover_image, style: "width: 60px; height: 80px; object-fit: cover; border-radius: 4px; border: 1px solid #ddd;" %>
              <% else %>
                <div style="width: 60px; height: 80px; background: #f0f0f0; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #999; font-size: 2rem;">
                  ðŸ“š
                </div>
              <% end %>
              <div>
                <strong><%= product.title %></strong><br>
                <small style="color: #666;"><%= product.isbn %></small>
              </div>
            </div>
          </td>
          <td style="padding: 1rem;"><%= product.category.category_name %></td>
          <td style="padding: 1rem;">$<%= sprintf('%.2f', product.current_price) %></td>
          <td style="padding: 1rem;">
            <span style="<%= product.stock_quantity < 10 ? 'color: red;' : '' %>">
              <%= product.stock_quantity %>
            </span>
          </td>
          <td style="padding: 1rem;">
            <%= product.authors.map(&:author_name).join(', ') %>
          </td>
          <td style="padding: 1rem; text-align: center;">
            <%= link_to "âœï¸ Edit", edit_admin_product_path(product), style: "margin-right: 0.5rem; color: #5b7c99; text-decoration: none;" %>
            <%= button_to "ðŸ—‘ï¸ Delete", admin_product_path(product), method: :delete, data: { confirm: "Are you sure you want to delete '#{product.title}'?" }, style: "background: none; border: none; color: #e74c3c; cursor: pointer; display: inline;" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <% if @products.present? %>
    <div style="margin-top: 2rem; text-align: center;">
      <%= paginate @products %>
    </div>
  <% else %>
    <p style="text-align: center; color: #666; padding: 2rem;">No products found. Create your first product!</p>
  <% end %>
</div>